<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0"/>

    <meta name="description" content="The Dap trainning project admin"/>

    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="Data Access Project"/>

    <link rel="stylesheet" type="text/css" th:href="@{/css/dap.css}"/>

    <title th:text="#{admin.title}">Data Access Project Admin</title>

</head>
<body>
<table >
    <tr>
        <th th:text="#{admin.userKey}">UserKey</th>
        <th th:text="#{admin.accounts}">Accounts</th>
    </tr>
    <tr th:each="user : ${users}">
        <td th:text="${user.userKey}"></td>
        <td>
            <table>
                <tr>
                    <th th:text="#{admin.accountName}">Account Name</th>
                    <th th:text="#{admin.type}">Type</th>
                    <th th:text="#{admin.tenantId}">TenandId</th>
                    <th th:text="#{mail}">Mail</th>
                </tr>
                <tr th:each="account : ${user.accounts}">
                    <td th:text="${account.name}"></td>
                    <td th:text="${account.type}"></td>
                    <td th:text="${account.tenantId}"></td>
                </tr>
            </table>
        </td>
        <td><a th:href="'/microsoft/mail?userKey='+${user.userKey}">
        <!-- TODO plp by Djer |Thymleaf| "div" n'est pas valide à l'intérieur d'un "<a>". Tu peux utiliser "th:block" qui ne produit pas de "balise HTML" et te permet d'utiliser un th:text -->
            <div th:text="#{mail}">Mail</div>
        </a></td>
    </tr>
</table>
</body>
</html>
