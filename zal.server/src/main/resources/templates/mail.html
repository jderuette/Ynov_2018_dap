<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"
	content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0" />

<meta name="description" content="The Dap trainning project admin" />

<meta property="og:type" content="website" />
<meta property="og:site_name" content="Data Access Project" />

<link rel="stylesheet" type="text/css" th:href="@{/css/dap.css}"/>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	
<title>Data Access Project Admin</title>

</head>
<body>
	<div class="container">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="/admin/">Administration</a>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
		    	<ul class="navbar-nav mr-auto">
			      	<li class="nav-item">
			        	<a class="nav-link" href="/admin/mails?userKey=">Mail</a>
			      	</li>
			      	<li class="nav-item">
			        	<a class="nav-link" href="/admin/contacts?userKey=">Contacts</a>
			      	</li>
		   		</ul>
  			</div>
		</nav>
		<div th:each="message: ${messages}">
			<table class="table table-hover">
				<thead>
					<tr>
						<th th:text="${message.key}">Email</th>
						<th th:text="#{mail.from}">From</th>
						<th th:text="#{mail.subject}">Subject</th>
						<th th:text="#{mail.received}">Received</th>
						<th th:text="#{mail.preview}">Preview</th>
					</tr>
				</thead>
				<tbody>
					
					<tr th:each="email : ${message.value.getValue()}"
						
					<td ><span
							th:if="${email.isRead == false}"
							class="glyphicon glyphicon-envelope"></span></td>
						<td th:text="${email.from.emailAddress.name}">sender mail</td>
						<td th:text="${email.subject}">mail subject</td>
						<td th:text="${email.receivedDateTime}">date of reception</td>
						<td th:text="${email.bodyPreview}">mail text</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>